/* 引入 Google 像素字體 */
@import url('https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap');

/* --- 基礎設定 --- */
:root {
    --border-color: #2c2c2c;
    --bg-color: #fff;
    --panel-height: 90vh;
}

body {
    margin: 0;
    /* 背景改為深色網格，更有設計圖或遊戲編輯器的感覺 */
    background-color: #202020;
    background-image: 
        linear-gradient(#333 1px, transparent 1px),
        linear-gradient(90deg, #333 1px, transparent 1px);
    background-size: 20px 20px;
    font-family: 'Press Start 2P', cursive, sans-serif; /* 套用像素字體 */
    display: flex;
    justify-content: center;
    align-items: center;
    height: 100vh;
    overflow: hidden;
}

/* --- 漫畫容器 --- */
.comic-container {
    width: 100%;
    max-width: 420px; 
    height: var(--panel-height);
    background: #fff;
    border: 6px solid #000; /* 加粗邊框 */
    border-radius: 4px; /* 稍微方一點，不要太圓 */
    display: flex;
    flex-direction: column;
    position: relative;
    box-shadow: 15px 15px 0px rgba(0,0,0,0.5); /* 類似漫畫/UI的硬陰影 */
}

/* --- 單個分鏡面板 --- */
.panel {
    position: relative;
    flex: 1; 
    background: #fff;
    cursor: pointer;
    transition: flex 0.4s cubic-bezier(0.25, 0.8, 0.25, 1), filter 0.3s;
    overflow: hidden;
    display: flex;
    align-items: center;
    justify-content: center;
    border-bottom: 4px solid #000;
}

/* --- 漫畫切割 (Clip-path) --- */
.warrior {
    z-index: 3;
    clip-path: polygon(0 0, 100% 0, 100% 85%, 0 100%);
    margin-bottom: -40px; 
    background-color: #f4e7d3; /* 羊皮紙色調 */
}

.archer {
    z-index: 2;
    clip-path: polygon(0 15%, 100% 0, 100% 85%, 0 100%);
    margin-bottom: -40px;
    padding-top: 40px; 
    background-color: #e8f4d3; /* 微微的綠色調 */
}

.mage {
    z-index: 1;
    clip-path: polygon(0 15%, 100% 0, 100% 100%, 0 100%);
    padding-top: 40px;
    border-bottom: none;
    background-color: #d3e0f4; /* 微微的藍色調 */
}

/* --- 互動效果 --- */
.comic-container:hover .panel:not(:hover) {
    filter: grayscale(80%) brightness(0.6); /* 未選中時更暗，突顯主角 */
}

.panel:hover, .panel.active {
    flex: 3; 
    z-index: 10; 
    clip-path: polygon(0 0, 100% 0, 100% 100%, 0 100%); 
    margin-bottom: 0;
    filter: none;
    background: #fff;
    /* 選中時加入發光邊框 */
    box-shadow: inset 0 0 20px rgba(255, 215, 0, 0.5); 
}

/* --- 內部內容排版 --- */
.content {
    display: flex;
    align-items: center;
    justify-content: space-around;
    width: 100%;
    padding: 0 10px;
    pointer-events: none; 
}

.content.reverse {
    flex-direction: row-reverse;
}

.character {
    width: 140px; /* 圖標放大一點 */
    height: 140px;
    transition: transform 0.3s ease;
    /* 如果你之後換成 pixel art 的 png 圖片，這行能防止模糊 */
    image-rendering: pixelated; 
}

.panel:hover .character {
    transform: scale(1.1) rotate(-5deg); 
    filter: drop-shadow(5px 5px 0px rgba(0,0,0,0.3)); /* 圖片懸浮陰影 */
}

.role-name {
    font-size: 1.5rem; /* 配合像素字體調整大小 */
    line-height: 1.5;
    color: #333;
    text-transform: uppercase;
    writing-mode: vertical-lr;
    text-orientation: upright;
    text-shadow: 2px 2px 0px #bbb; /* 復古文字陰影 */
}

/* 速度線背景 */
.bg-effect {
    position: absolute;
    top: 0; left: 0; width: 100%; height: 100%;
    background: repeating-linear-gradient(
        45deg,
        transparent 0,
        transparent 10px,
        rgba(0,0,0,0.05) 10px,
        rgba(0,0,0,0.05) 12px
    );
    z-index: -1;
    opacity: 0.5;
}